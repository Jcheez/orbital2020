{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";// import { Link } from \"react-router-dom\";\nimport axios from\"axios\";var myrrate=/*#__PURE__*/function(_Component){_inherits(myrrate,_Component);var _super=_createSuper(myrrate);function myrrate(props){var _this;_classCallCheck(this,myrrate);_this=_super.call(this,props);_this.state={Date1:\"\",Bank1:\"\",Timestamp1:\"\",rates1:\"\",timeRecorded:\"\",Date2:\"\",Bank2:\"\",Timestamp2:\"\",rates2:\"\",Date3:\"\",Bank3:\"\",Timestamp3:\"\",rates3:\"\"};return _this;}_createClass(myrrate,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/currencies/MYR\").then(function(response){var today=new Date();var Day=today.getDate();var Month=today.getMonth()+1;var Month_str=Month.toString();var Year=today.getFullYear();if(Month_str.length===1){Month_str=\"0\"+Month_str;}var today_date=Day+\"/\"+Month_str+\"/\"+Year;var previous_date=Day-1+\"/\"+Month_str+\"/\"+Year;var data_array=[];for(var i=0,len=response.data.length;i<len;i++){var curr_date=response.data[i].Date;if(curr_date===today_date){data_array.push(response.data[i]);}}if(data_array.length===0){for(var _i=0,_len=response.data.length;_i<_len;_i++){var _curr_date=response.data[_i].Date;if(_curr_date===previous_date){data_array.push(response.data[_i]);}}}_this2.setState({Date1:data_array[0].Date,Bank1:data_array[0].Bank,Timestamp1:data_array[0].Timestamp,rates1:typeof data_array[0].rates[0].v===\"number\"?(data_array[0].rates[0].v/data_array[0].rates[1].v).toPrecision(4):\"Not Found\",timeRecorded:data_array[0].timeRecorded,Date2:data_array[1].Date,Bank2:data_array[1].Bank,Timestamp2:data_array[1].Timestamp,rates2:typeof data_array[1].rates[0].v===\"number\"?(data_array[1].rates[0].v/data_array[1].rates[1].v).toPrecision(4):\"Not Found\",Date3:data_array[2].Date,Bank3:data_array[2].Bank,Timestamp3:data_array[2].Timestamp,rates3:typeof data_array[2].rates[0].v===\"number\"?(data_array[2].rates[0].v/data_array[2].rates[1].v).toPrecision(4):\"Not Found\"});}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\" \"),\"Last updated on \",this.state.Date1,\" at \",this.state.timeRecorded,/*#__PURE__*/React.createElement(\"p\",null)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Currency\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank1),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank2),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank3))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"MYR\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates1),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates2),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates3))))));}}]);return myrrate;}(Component);export default myrrate;","map":{"version":3,"sources":["C:/Users/Bryan/Desktop/my-app/orbital2020/src/components/latest rate component/myrRates.js"],"names":["React","Component","axios","myrrate","props","state","Date1","Bank1","Timestamp1","rates1","timeRecorded","Date2","Bank2","Timestamp2","rates2","Date3","Bank3","Timestamp3","rates3","get","then","response","today","Date","Day","getDate","Month","getMonth","Month_str","toString","Year","getFullYear","length","today_date","previous_date","data_array","i","len","data","curr_date","push","setState","Bank","Timestamp","rates","v","toPrecision","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass myrrate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Date1: \"\",\r\n      Bank1: \"\",\r\n      Timestamp1: \"\",\r\n      rates1: \"\",\r\n      timeRecorded: \"\",\r\n      Date2: \"\",\r\n      Bank2: \"\",\r\n      Timestamp2: \"\",\r\n      rates2: \"\",\r\n      Date3: \"\",\r\n      Bank3: \"\",\r\n      Timestamp3: \"\",\r\n      rates3: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/currencies/MYR\")\r\n      .then((response) => {\r\n        var today = new Date();\r\n\r\n        var Day = today.getDate();\r\n        var Month = today.getMonth() + 1;\r\n        var Month_str = Month.toString();\r\n        var Year = today.getFullYear();\r\n\r\n        if (Month_str.length === 1) {\r\n          Month_str = \"0\" + Month_str;\r\n        }\r\n\r\n        var today_date = Day + \"/\" + Month_str + \"/\" + Year;\r\n        var previous_date = Day - 1 + \"/\" + Month_str + \"/\" + Year;\r\n\r\n        var data_array = [];\r\n        for (let i = 0, len = response.data.length; i < len; i++) {\r\n          let curr_date = response.data[i].Date;\r\n          if (curr_date === today_date) {\r\n            data_array.push(response.data[i]);\r\n          }\r\n        }\r\n\r\n        if (data_array.length === 0) {\r\n          for (let i = 0, len = response.data.length; i < len; i++) {\r\n            let curr_date = response.data[i].Date;\r\n            if (curr_date === previous_date) {\r\n              data_array.push(response.data[i]);\r\n            }\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          Date1: data_array[0].Date,\r\n          Bank1: data_array[0].Bank,\r\n          Timestamp1: data_array[0].Timestamp,\r\n          rates1:\r\n            typeof data_array[0].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[0].rates[0].v / data_array[0].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n          timeRecorded: data_array[0].timeRecorded,\r\n          Date2: data_array[1].Date,\r\n          Bank2: data_array[1].Bank,\r\n          Timestamp2: data_array[1].Timestamp,\r\n          rates2:\r\n            typeof data_array[1].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[1].rates[0].v / data_array[1].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n          Date3: data_array[2].Date,\r\n          Bank3: data_array[2].Bank,\r\n          Timestamp3: data_array[2].Timestamp,\r\n          rates3:\r\n            typeof data_array[2].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[2].rates[0].v / data_array[2].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <p> </p>\r\n          Last updated on {this.state.Date1} at {this.state.timeRecorded}\r\n          <p></p>\r\n        </div>\r\n        <div>\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Currency</th>\r\n                <th scope=\"col\">{this.state.Bank1}</th>\r\n                <th scope=\"col\">{this.state.Bank2}</th>\r\n                <th scope=\"col\">{this.state.Bank3}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th scope=\"row\">MYR</th>\r\n                <td>{this.state.rates1}</td>\r\n                <td>{this.state.rates2}</td>\r\n                <td>{this.state.rates3}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default myrrate;\r\n"]},"metadata":{},"sourceType":"module"}