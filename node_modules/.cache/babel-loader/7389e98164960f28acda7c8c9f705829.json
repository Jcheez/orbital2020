{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"./utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"./actions/authActions\";import PrivateRoute from\"./components/privateRoute\";import Home from\"./components/home component/home\";import Welcome from\"./components/welcome page component/welcome\";import Signup from\"./components/signup component/signup\";import Login from\"./components/login component/login\";import{Provider}from\"react-redux\";import store from\"./store\";if(localStorage.jwtToken){var token=localStorage.jwtToken;setAuthToken(token);var decoded=jwt_decode(token);store.dispatch(setCurrentUser(decoded));var currentTime=Date.now()/1000;if(decoded.exp<currentTime){store.dispatch(logoutUser());window.location.href=\"./login\";}}function App(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,component:Welcome}),/*#__PURE__*/React.createElement(Route,{path:\"/signup\",exact:true,component:Signup}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/home\",component:Home}))));}export default App;","map":{"version":3,"sources":["C:/Users/Bryan/Desktop/my-app/orbital2020/src/App.js"],"names":["React","BrowserRouter","Router","Route","Switch","jwt_decode","setAuthToken","setCurrentUser","logoutUser","PrivateRoute","Home","Welcome","Signup","Login","Provider","store","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,cAAT,CAAyBC,UAAzB,KAA2C,uBAA3C,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,kCAAjB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,6CAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,CAEA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,GAAIC,YAAY,CAACC,QAAjB,CAA2B,CACzB,GAAMC,CAAAA,KAAK,CAAGF,YAAY,CAACC,QAA3B,CACAX,YAAY,CAACY,KAAD,CAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGd,UAAU,CAACa,KAAD,CAA1B,CACAH,KAAK,CAACK,QAAN,CAAeb,cAAc,CAACY,OAAD,CAA7B,EACA,GAAME,CAAAA,WAAW,CAAGC,IAAI,CAACC,GAAL,GAAa,IAAjC,CACA,GAAIJ,OAAO,CAACK,GAAR,CAAcH,WAAlB,CAA+B,CAC7BN,KAAK,CAACK,QAAN,CAAeZ,UAAU,EAAzB,EACAiB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACD,CACF,CAED,QAASC,CAAAA,GAAT,EAAe,CACb,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEb,KAAjB,eACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEJ,OAAjC,EADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,KAAK,KAA3B,CAA4B,SAAS,CAAEC,MAAvC,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAEC,KAAtC,EAHF,cAIE,oBAAC,MAAD,mBACE,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,OAAzB,CAAiC,SAAS,CAAEH,IAA5C,EADF,CAJF,CADF,CADF,CAYD,CAED,cAAekB,CAAAA,GAAf","sourcesContent":["import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\r\nimport PrivateRoute from \"./components/privateRoute\";\r\nimport Home from \"./components/home component/home\";\r\n\r\nimport Welcome from \"./components/welcome page component/welcome\";\r\nimport Signup from \"./components/signup component/signup\";\r\nimport Login from \"./components/login component/login\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nif (localStorage.jwtToken) {\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  const decoded = jwt_decode(token);\r\n  store.dispatch(setCurrentUser(decoded));\r\n  const currentTime = Date.now() / 1000;\r\n  if (decoded.exp < currentTime) {\r\n    store.dispatch(logoutUser());\r\n    window.location.href = \"./login\";\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Route path=\"/\" exact component={Welcome} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/login\" exact component={Login} />\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/home\" component={Home} />\r\n        </Switch>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}