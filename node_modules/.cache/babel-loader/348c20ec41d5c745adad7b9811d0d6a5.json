{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Bryan\\\\Desktop\\\\my-app\\\\orbital2020\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";// import { Link } from \"react-router-dom\";\nimport axios from\"axios\";var aedrate=/*#__PURE__*/function(_Component){_inherits(aedrate,_Component);var _super=_createSuper(aedrate);function aedrate(props){var _this;_classCallCheck(this,aedrate);_this=_super.call(this,props);_this.newAmount=function(event){_this.setState({newAmount:event.target.value});};_this.newAmount1=function(event){_this.setState({newAmount1:event.target.value});};_this.state={Date1:\"\",Bank1:\"\",Timestamp1:\"\",rates1:\"\",timeRecorded:\"\",Date2:\"\",Bank2:\"\",Timestamp2:\"\",rates2:\"\",Date3:\"\",Bank3:\"\",Timestamp3:\"\",rates3:\"\",bestrate:\"\",newAmount:\"\",newAmount1:\"\"};return _this;}_createClass(aedrate,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/currencies/AED\").then(function(response){var today=new Date();var Day=today.getDate();var Month=today.getMonth()+1;var Month_str=Month.toString();var Year=today.getFullYear();if(Month_str.length===1){Month_str=\"0\"+Month_str;}var today_date=Day+\"/\"+Month_str+\"/\"+Year;var previous_date=Day-1+\"/\"+Month_str+\"/\"+Year;var data_array=[];for(var i=0,len=response.data.length;i<len;i++){var curr_date=response.data[i].Date;if(curr_date===today_date){data_array.push(response.data[i]);}}if(data_array.length===0){for(var _i=0,_len=response.data.length;_i<_len;_i++){var _curr_date=response.data[_i].Date;if(_curr_date===previous_date){data_array.push(response.data[_i]);}}}var best=data_array[data_array.length-1].rates[0].v/data_array[data_array.length-1].rates[1].v;if(best>data_array[data_array.length-2].rates[0].v/data_array[data_array.length-2].rates[1].v&&data_array[data_array.length-2].rates[0].v/data_array[data_array.length-2].rates[1].v<data_array[data_array.length-3].rates[0].v/data_array[data_array.length-3].rates[1].v){best=data_array[data_array.length-2].rates[0].v/data_array[data_array.length-2].rates[1].v;}else if(best>data_array[data_array.length-3].rates[0].v/data_array[data_array.length-3].rates[1].v&&data_array[data_array.length-2].rates[0].v/data_array[data_array.length-2].rates[1].v>data_array[data_array.length-3].rates[0].v/data_array[data_array.length-3].rates[1].v){best=data_array[data_array.length-3].rates[0].v/data_array[data_array.length-3].rates[1].v;}_this2.setState({Date1:data_array[data_array.length-1].Date,Bank1:data_array[data_array.length-1].Bank,Timestamp1:data_array[data_array.length-1].Timestamp,rates1:typeof data_array[data_array.length-1].rates[0].v===\"number\"?(data_array[data_array.length-1].rates[0].v/data_array[data_array.length-1].rates[1].v).toPrecision(4):\"Not Found\",timeRecorded:data_array[data_array.length-1].timeRecorded,Date2:data_array[data_array.length-2].Date,Bank2:data_array[data_array.length-2].Bank,Timestamp2:data_array[data_array.length-2].Timestamp,rates2:typeof data_array[data_array.length-2].rates[0].v===\"number\"?(data_array[data_array.length-2].rates[0].v/data_array[data_array.length-2].rates[1].v).toPrecision(4):\"Not Found\",Date3:data_array[data_array.length-3].Date,Bank3:data_array[data_array.length-3].Bank,Timestamp3:data_array[data_array.length-3].Timestamp,rates3:typeof data_array[data_array.length-3].rates[0].v===\"number\"?(data_array[data_array.length-3].rates[0].v/data_array[data_array.length-3].rates[1].v).toPrecision(4):\"Not Found\",bestrate:best});}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\" \"),\"Last updated on \",this.state.Date1,\" at \",this.state.timeRecorded,/*#__PURE__*/React.createElement(\"p\",null)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Currency\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank1),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank2),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},this.state.Bank3))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},\"AED\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates1),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates2),/*#__PURE__*/React.createElement(\"td\",null,this.state.rates3))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"Using the best rate, the exchange rate is as follows:\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered size=sm\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"number\",onChange:this.newAmount,min:\"0\"}),\" AED equals\",\" \",(this.state.bestrate*this.state.newAmount).toPrecision(4),\" \",\"SGD\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"number\",onChange:this.newAmount1,min:\"0\"}),\" SGD equals\",\" \",(this.state.newAmount1/this.state.bestrate).toPrecision(4),\" \",\"AED\"))))));}}]);return aedrate;}(Component);export default aedrate;","map":{"version":3,"sources":["C:/Users/Bryan/Desktop/my-app/orbital2020/src/components/latest rate component/aedRates.js"],"names":["React","Component","axios","aedrate","props","newAmount","event","setState","target","value","newAmount1","state","Date1","Bank1","Timestamp1","rates1","timeRecorded","Date2","Bank2","Timestamp2","rates2","Date3","Bank3","Timestamp3","rates3","bestrate","get","then","response","today","Date","Day","getDate","Month","getMonth","Month_str","toString","Year","getFullYear","length","today_date","previous_date","data_array","i","len","data","curr_date","push","best","rates","v","Bank","Timestamp","toPrecision","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass aedrate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Date1: \"\",\r\n      Bank1: \"\",\r\n      Timestamp1: \"\",\r\n      rates1: \"\",\r\n      timeRecorded: \"\",\r\n      Date2: \"\",\r\n      Bank2: \"\",\r\n      Timestamp2: \"\",\r\n      rates2: \"\",\r\n      Date3: \"\",\r\n      Bank3: \"\",\r\n      Timestamp3: \"\",\r\n      rates3: \"\",\r\n      bestrate: \"\",\r\n      newAmount: \"\",\r\n      newAmount1: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/currencies/AED\")\r\n      .then((response) => {\r\n        var today = new Date();\r\n\r\n        var Day = today.getDate();\r\n        var Month = today.getMonth() + 1;\r\n        var Month_str = Month.toString();\r\n        var Year = today.getFullYear();\r\n\r\n        if (Month_str.length === 1) {\r\n          Month_str = \"0\" + Month_str;\r\n        }\r\n\r\n        var today_date = Day + \"/\" + Month_str + \"/\" + Year;\r\n        var previous_date = Day - 1 + \"/\" + Month_str + \"/\" + Year;\r\n\r\n        var data_array = [];\r\n        for (let i = 0, len = response.data.length; i < len; i++) {\r\n          let curr_date = response.data[i].Date;\r\n          if (curr_date === today_date) {\r\n            data_array.push(response.data[i]);\r\n          }\r\n        }\r\n\r\n        if (data_array.length === 0) {\r\n          for (let i = 0, len = response.data.length; i < len; i++) {\r\n            let curr_date = response.data[i].Date;\r\n            if (curr_date === previous_date) {\r\n              data_array.push(response.data[i]);\r\n            }\r\n          }\r\n        }\r\n\r\n        var best =\r\n          data_array[data_array.length - 1].rates[0].v /\r\n          data_array[data_array.length - 1].rates[1].v;\r\n        if (\r\n          best >\r\n            data_array[data_array.length - 2].rates[0].v /\r\n              data_array[data_array.length - 2].rates[1].v &&\r\n          data_array[data_array.length - 2].rates[0].v /\r\n            data_array[data_array.length - 2].rates[1].v <\r\n            data_array[data_array.length - 3].rates[0].v /\r\n              data_array[data_array.length - 3].rates[1].v\r\n        ) {\r\n          best =\r\n            data_array[data_array.length - 2].rates[0].v /\r\n            data_array[data_array.length - 2].rates[1].v;\r\n        } else if (\r\n          best >\r\n            data_array[data_array.length - 3].rates[0].v /\r\n              data_array[data_array.length - 3].rates[1].v &&\r\n          data_array[data_array.length - 2].rates[0].v /\r\n            data_array[data_array.length - 2].rates[1].v >\r\n            data_array[data_array.length - 3].rates[0].v /\r\n              data_array[data_array.length - 3].rates[1].v\r\n        ) {\r\n          best =\r\n            data_array[data_array.length - 3].rates[0].v /\r\n            data_array[data_array.length - 3].rates[1].v;\r\n        }\r\n\r\n        this.setState({\r\n          Date1: data_array[data_array.length - 1].Date,\r\n          Bank1: data_array[data_array.length - 1].Bank,\r\n          Timestamp1: data_array[data_array.length - 1].Timestamp,\r\n          rates1:\r\n            typeof data_array[data_array.length - 1].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[data_array.length - 1].rates[0].v /\r\n                  data_array[data_array.length - 1].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n          timeRecorded: data_array[data_array.length - 1].timeRecorded,\r\n          Date2: data_array[data_array.length - 2].Date,\r\n          Bank2: data_array[data_array.length - 2].Bank,\r\n          Timestamp2: data_array[data_array.length - 2].Timestamp,\r\n          rates2:\r\n            typeof data_array[data_array.length - 2].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[data_array.length - 2].rates[0].v /\r\n                  data_array[data_array.length - 2].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n          Date3: data_array[data_array.length - 3].Date,\r\n          Bank3: data_array[data_array.length - 3].Bank,\r\n          Timestamp3: data_array[data_array.length - 3].Timestamp,\r\n          rates3:\r\n            typeof data_array[data_array.length - 3].rates[0].v === \"number\"\r\n              ? (\r\n                  data_array[data_array.length - 3].rates[0].v /\r\n                  data_array[data_array.length - 3].rates[1].v\r\n                ).toPrecision(4)\r\n              : \"Not Found\",\r\n          bestrate: best,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  newAmount = (event) => {\r\n    this.setState({ newAmount: event.target.value });\r\n  };\r\n\r\n  newAmount1 = (event) => {\r\n    this.setState({ newAmount1: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <p> </p>\r\n          Last updated on {this.state.Date1} at {this.state.timeRecorded}\r\n          <p></p>\r\n        </div>\r\n        <div>\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Currency</th>\r\n                <th scope=\"col\">{this.state.Bank1}</th>\r\n                <th scope=\"col\">{this.state.Bank2}</th>\r\n                <th scope=\"col\">{this.state.Bank3}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th scope=\"row\">AED</th>\r\n                <td>{this.state.rates1}</td>\r\n                <td>{this.state.rates2}</td>\r\n                <td>{this.state.rates3}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div>\r\n          <br />\r\n          <p>Using the best rate, the exchange rate is as follows:</p>\r\n          <table className=\"table table-bordered size=sm\">\r\n            <tr>\r\n              <td>\r\n                <form>\r\n                  <input type=\"number\" onChange={this.newAmount} min=\"0\" /> AED\r\n                  equals{\" \"}\r\n                  {(this.state.bestrate * this.state.newAmount).toPrecision(4)}{\" \"}\r\n                  SGD\r\n                </form>\r\n              </td>\r\n              <td>\r\n                <form>\r\n                  <input type=\"number\" onChange={this.newAmount1} min=\"0\" /> SGD\r\n                  equals{\" \"}\r\n                  {(this.state.newAmount1 / this.state.bestrate).toPrecision(4)}{\" \"}\r\n                  AED\r\n                </form>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default aedrate;\r\n"]},"metadata":{},"sourceType":"module"}